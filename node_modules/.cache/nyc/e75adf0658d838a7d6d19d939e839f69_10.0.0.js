"use strict";var cov_p2qubq78e=function(){var path="/Users/alexgoddijn/Documents/UBC/CPSC 310/cpsc310project_team199/src/rest/Router.js",hash="5d1a82e833675efe34e08198641b09f455a35197",global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/alexgoddijn/Documents/UBC/CPSC 310/cpsc310project_team199/src/rest/Router.js",statementMap:{"0":{start:{line:2,column:13},end:{line:2,column:31}},"1":{start:{line:3,column:22},end:{line:3,column:60}},"2":{start:{line:4,column:14},end:{line:71,column:3}},"3":{start:{line:7,column:4},end:{line:24,column:6}},"4":{start:{line:8,column:18},end:{line:8,column:47}},"5":{start:{line:9,column:8},end:{line:23,column:9}},"6":{start:{line:10,column:26},end:{line:10,column:72}},"7":{start:{line:11,column:12},end:{line:11,column:63}},"8":{start:{line:12,column:12},end:{line:18,column:15}},"9":{start:{line:13,column:16},end:{line:13,column:55}},"10":{start:{line:14,column:16},end:{line:14,column:30}},"11":{start:{line:16,column:16},end:{line:16,column:45}},"12":{start:{line:17,column:16},end:{line:17,column:30}},"13":{start:{line:21,column:12},end:{line:21,column:70}},"14":{start:{line:22,column:12},end:{line:22,column:26}},"15":{start:{line:25,column:4},end:{line:41,column:6}},"16":{start:{line:26,column:18},end:{line:26,column:47}},"17":{start:{line:27,column:8},end:{line:40,column:9}},"18":{start:{line:28,column:12},end:{line:28,column:65}},"19":{start:{line:29,column:12},end:{line:35,column:15}},"20":{start:{line:30,column:16},end:{line:30,column:55}},"21":{start:{line:31,column:16},end:{line:31,column:30}},"22":{start:{line:33,column:16},end:{line:33,column:45}},"23":{start:{line:34,column:16},end:{line:34,column:30}},"24":{start:{line:38,column:12},end:{line:38,column:65}},"25":{start:{line:39,column:12},end:{line:39,column:26}},"26":{start:{line:42,column:4},end:{line:56,column:6}},"27":{start:{line:43,column:18},end:{line:43,column:47}},"28":{start:{line:44,column:8},end:{line:55,column:9}},"29":{start:{line:45,column:12},end:{line:45,column:60}},"30":{start:{line:46,column:12},end:{line:52,column:15}},"31":{start:{line:47,column:16},end:{line:47,column:55}},"32":{start:{line:48,column:16},end:{line:48,column:30}},"33":{start:{line:50,column:16},end:{line:50,column:45}},"34":{start:{line:51,column:16},end:{line:51,column:30}},"35":{start:{line:57,column:4},end:{line:69,column:6}},"36":{start:{line:58,column:18},end:{line:58,column:47}},"37":{start:{line:59,column:8},end:{line:68,column:9}},"38":{start:{line:60,column:12},end:{line:60,column:53}},"39":{start:{line:61,column:12},end:{line:67,column:15}},"40":{start:{line:62,column:16},end:{line:62,column:55}},"41":{start:{line:63,column:16},end:{line:63,column:30}},"42":{start:{line:65,column:16},end:{line:65,column:45}},"43":{start:{line:66,column:16},end:{line:66,column:30}},"44":{start:{line:70,column:4},end:{line:70,column:18}},"45":{start:{line:72,column:0},end:{line:72,column:62}},"46":{start:{line:73,column:0},end:{line:73,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:14},end:{line:4,column:15}},loc:{start:{line:4,column:26},end:{line:71,column:1}}},"1":{name:"Router",decl:{start:{line:5,column:13},end:{line:5,column:19}},loc:{start:{line:5,column:22},end:{line:6,column:5}}},"2":{name:"(anonymous_2)",decl:{start:{line:7,column:24},end:{line:7,column:25}},loc:{start:{line:7,column:50},end:{line:24,column:5}}},"3":{name:"(anonymous_3)",decl:{start:{line:12,column:56},end:{line:12,column:57}},loc:{start:{line:12,column:76},end:{line:15,column:13}}},"4":{name:"(anonymous_4)",decl:{start:{line:15,column:21},end:{line:15,column:22}},loc:{start:{line:15,column:36},end:{line:18,column:13}}},"5":{name:"(anonymous_5)",decl:{start:{line:25,column:27},end:{line:25,column:28}},loc:{start:{line:25,column:53},end:{line:41,column:5}}},"6":{name:"(anonymous_6)",decl:{start:{line:29,column:50},end:{line:29,column:51}},loc:{start:{line:29,column:70},end:{line:32,column:13}}},"7":{name:"(anonymous_7)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:36},end:{line:35,column:13}}},"8":{name:"(anonymous_8)",decl:{start:{line:42,column:26},end:{line:42,column:27}},loc:{start:{line:42,column:52},end:{line:56,column:5}}},"9":{name:"(anonymous_9)",decl:{start:{line:46,column:44},end:{line:46,column:45}},loc:{start:{line:46,column:64},end:{line:49,column:13}}},"10":{name:"(anonymous_10)",decl:{start:{line:49,column:21},end:{line:49,column:22}},loc:{start:{line:49,column:36},end:{line:52,column:13}}},"11":{name:"(anonymous_11)",decl:{start:{line:57,column:29},end:{line:57,column:30}},loc:{start:{line:57,column:55},end:{line:69,column:5}}},"12":{name:"(anonymous_12)",decl:{start:{line:61,column:71},end:{line:61,column:72}},loc:{start:{line:61,column:91},end:{line:64,column:13}}},"13":{name:"(anonymous_13)",decl:{start:{line:64,column:21},end:{line:64,column:22}},loc:{start:{line:64,column:36},end:{line:67,column:13}}}},branchMap:{"0":{loc:{start:{line:9,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:23,column:9}},{start:{line:9,column:8},end:{line:23,column:9}}]},"1":{loc:{start:{line:27,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:27,column:8},end:{line:40,column:9}},{start:{line:27,column:8},end:{line:40,column:9}}]},"2":{loc:{start:{line:44,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:55,column:9}},{start:{line:44,column:8},end:{line:55,column:9}}]},"3":{loc:{start:{line:59,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:68,column:9}},{start:{line:59,column:8},end:{line:68,column:9}}]}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var Util_1=(++cov_p2qubq78e.s[0],require("../Util"));var InsightFacade_1=(++cov_p2qubq78e.s[1],require("../controller/InsightFacade"));var Router=(++cov_p2qubq78e.s[2],function(){++cov_p2qubq78e.f[0];function Router(){++cov_p2qubq78e.f[1];}++cov_p2qubq78e.s[3];Router.addDataset=function(req,res,next){++cov_p2qubq78e.f[2];var isf=(++cov_p2qubq78e.s[4],new InsightFacade_1.default());++cov_p2qubq78e.s[5];if(req.params.body){++cov_p2qubq78e.b[0][0];var dataStr=(++cov_p2qubq78e.s[6],new Buffer(req.params.body).toString('base64'));++cov_p2qubq78e.s[7];Util_1.Log.info("Adding dataset "+req.params.id);++cov_p2qubq78e.s[8];isf.addDataset(req.params.id,dataStr).then(function(response){++cov_p2qubq78e.f[3];++cov_p2qubq78e.s[9];res.json(response.code,response.body);++cov_p2qubq78e.s[10];return next();}).catch(function(err){++cov_p2qubq78e.f[4];++cov_p2qubq78e.s[11];res.json(err.code,err.body);++cov_p2qubq78e.s[12];return next();});}else{++cov_p2qubq78e.b[0][1];++cov_p2qubq78e.s[13];res.json({code:400,body:{error:"No data given"}});++cov_p2qubq78e.s[14];return next();}};++cov_p2qubq78e.s[15];Router.removeDataset=function(req,res,next){++cov_p2qubq78e.f[5];var isf=(++cov_p2qubq78e.s[16],new InsightFacade_1.default());++cov_p2qubq78e.s[17];if(req.params.id){++cov_p2qubq78e.b[1][0];++cov_p2qubq78e.s[18];Util_1.Log.info("Removing dataset "+req.params.id);++cov_p2qubq78e.s[19];isf.removeDataset(req.params.id).then(function(response){++cov_p2qubq78e.f[6];++cov_p2qubq78e.s[20];res.json(response.code,response.body);++cov_p2qubq78e.s[21];return next();}).catch(function(err){++cov_p2qubq78e.f[7];++cov_p2qubq78e.s[22];res.json(err.code,err.body);++cov_p2qubq78e.s[23];return next();});}else{++cov_p2qubq78e.b[1][1];++cov_p2qubq78e.s[24];res.json({code:404,body:{error:"id given"}});++cov_p2qubq78e.s[25];return next();}};++cov_p2qubq78e.s[26];Router.performQuery=function(req,res,next){++cov_p2qubq78e.f[8];var isf=(++cov_p2qubq78e.s[27],new InsightFacade_1.default());++cov_p2qubq78e.s[28];if(req.body){++cov_p2qubq78e.b[2][0];++cov_p2qubq78e.s[29];Util_1.Log.info("Querying dataset "+req.body);++cov_p2qubq78e.s[30];isf.performQuery(req.body).then(function(response){++cov_p2qubq78e.f[9];++cov_p2qubq78e.s[31];res.json(response.code,response.body);++cov_p2qubq78e.s[32];return next();}).catch(function(err){++cov_p2qubq78e.f[10];++cov_p2qubq78e.s[33];res.json(err.code,err.body);++cov_p2qubq78e.s[34];return next();});}else{++cov_p2qubq78e.b[2][1];}};++cov_p2qubq78e.s[35];Router.performSchedule=function(req,res,next){++cov_p2qubq78e.f[11];var isf=(++cov_p2qubq78e.s[36],new InsightFacade_1.default());++cov_p2qubq78e.s[37];if(req.body){++cov_p2qubq78e.b[3][0];++cov_p2qubq78e.s[38];Util_1.Log.info("Performing scheduling");++cov_p2qubq78e.s[39];isf.performSchedule(req.body.courses,req.body.rooms).then(function(response){++cov_p2qubq78e.f[12];++cov_p2qubq78e.s[40];res.json(response.code,response.body);++cov_p2qubq78e.s[41];return next();}).catch(function(err){++cov_p2qubq78e.f[13];++cov_p2qubq78e.s[42];res.json(err.code,err.body);++cov_p2qubq78e.s[43];return next();});}else{++cov_p2qubq78e.b[3][1];}};++cov_p2qubq78e.s[44];return Router;}());++cov_p2qubq78e.s[45];Object.defineProperty(exports,"__esModule",{value:true});++cov_p2qubq78e.s[46];exports.default=Router;//# sourceMappingURL=Router.js.map